(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-center-center"],{"27ae":function(e,t,i){"use strict";i.r(t);var n=i("55b4"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},"55b4":function(e,t,i){"use strict";var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac6a"),i("96cf");var a=n(i("3b8d")),s=n(i("2971")),r={data:function(){return{headportrait:"",isH5Plus:!0,user:{},tableName:"",role:"",menuList:[],secondIndex:-1,orderList:[{name:"全部",icon:"icon-dingdan1"},{name:"未支付",icon:"icon-dingdan2"},{name:"已支付",icon:"icon-dingdan3"},{name:"已完成",icon:"icon-dingdan4"},{name:"已取消",icon:"icon-dingdan5"}],passwordForm:{mima:"",newmima:"",newmima1:""}}},computed:{baseUrl:function(){return this.$base.url}},onLoad:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.role=uni.getStorageSync("appRole"),t=uni.getStorageSync("nowTable"),e.next=4,this.$api.session(t);case 4:i=e.sent,this.user=i.data,this.headportrait=uni.getStorageSync("headportrait"),this.tableName=t,n=s.default.list(),e.t0=regeneratorRuntime.keys(n);case 10:if((e.t1=e.t0()).done){e.next=17;break}if(a=e.t1.value,n[a].tableName!=this.tableName){e.next=15;break}return this.menuList=n[a].backMenu.filter((function(e){return"我的优惠券管理"!=e.menu})),e.abrupt("break",17);case 15:e.next=10;break;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onShow:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.removeStorageSync("useridTag"),this.role=uni.getStorageSync("appRole"),t=uni.getStorageSync("nowTable"),this.headportrait=uni.getStorageSync("headportrait"),e.next=6,this.$api.session(t);case 6:i=e.sent,this.user=i.data,this.tableName=t,n=s.default.list(),e.t0=regeneratorRuntime.keys(n);case 11:if((e.t1=e.t0()).done){e.next=18;break}if(a=e.t1.value,n[a].tableName!=this.tableName){e.next=16;break}return this.menuList=n[a].backMenu.filter((function(e){return"我的优惠券管理"!=e.menu})),e.abrupt("break",18);case 16:e.next=11;break;case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getSession:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=uni.getStorageSync("nowTable"),e.next=3,this.$api.session(t);case 3:i=e.sent,this.user=i.data,this.$forceUpdate();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),secondClick:function(e){if(this.secondIndex==e)return this.secondIndex=-1,!1;this.secondIndex=e},onPageTap:function(e,t){return uni.setStorageSync("useridTag",1),"orders"==e?(this.onPageTap2("../shop-order/shop-order"),!1):"address"==e?(this.onPageTap2("../shop-address/shop-address"),!1):"cart"==e?(this.onPageTap2("../shop-cart/shop-cart"),!1):"exampaper"==e?(this.onPageTap2("../exampaperlist/list"),!1):"examrecord"==e&&"22"==t?(this.onPageTap2("../examfailrecord/list",2),!1):"storeup"==e?(this.onPageTap2("../storeup/list?userid="+this.user.id+"&menuJump="+t,1),!1):"news"==e?(this.onPageTap2("../news-list/news-list"),!1):void this.onPageTap2("../".concat(e,"/list"),2)},onPageTap2:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.user)return uni.navigateTo({url:"/pages/login/login"}),!1;var i=this;uni.navigateTo({url:e+(2==t?"?userid=".concat(i.user.id):""),fail:function(){uni.switchTab({url:e+(2==t?"?userid=".concat(i.user.id):"")})}})},passwordShow:function(){this.passwordForm={mima:"",newmima:"",newmima1:""},this.$forceUpdate(),this.$refs.passwordPopup.open()},updatePassword:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=this.passwordForm.mima){e.next=3;break}return this.$utils.msg("原密码不能为空"),e.abrupt("return",!1);case 3:if(""!=this.passwordForm.newmima){e.next=6;break}return this.$utils.msg("新密码不能为空"),e.abrupt("return",!1);case 6:if(""!=this.passwordForm.newmima1){e.next=9;break}return this.$utils.msg("确认密码不能为空"),e.abrupt("return",!1);case 9:if(t="","yonghu"==this.tableName&&(t=this.user.yonghumima),i=this.passwordForm.mima,t==i){e.next=15;break}return this.$utils.msg("原密码不正确"),e.abrupt("return",!1);case 15:if(this.passwordForm.newmima==this.passwordForm.newmima1){e.next=18;break}return this.$utils.msg("两次密码不一致"),e.abrupt("return",!1);case 18:return this.tableName,"yonghu"==this.tableName&&(this.user.yonghumima=this.passwordForm.newmima),e.next=22,this.$api.update(this.tableName,this.user);case 22:this.$utils.msg("修改密码成功,下次登录系统生效"),this.$refs.passwordPopup.close(),this.getSession();case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};t.default=r},"66ef":function(e,t,i){var n=i("6f94");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("20241260",n,!0,{sourceMap:!1,shadowMode:!1})},"6f94":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 行为相关颜色 */.no-coupon[data-v-4accbeec]{position:absolute;right:0;width:100px;height:100px;top:0}.content[data-v-4accbeec]{box-sizing:border-box;overflow-y:scroll}.passwordForm[data-v-4accbeec]{width:100%;padding:10px 20px 60px;background:#fff}.passwordForm .passwordInput[data-v-4accbeec]{background:#eee;margin:0 0 10px;padding:0 10px}.passwordForm .passwordInput uni-input[data-v-4accbeec]{height:36px;line-height:36px;font-size:14px}.passwordForm .passwordBtnView[data-v-4accbeec]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:10px 0}.passwordForm .passwordBtnView .passwordBtn[data-v-4accbeec]{padding:0 20px;width:auto;height:20px;line-height:20px;font-size:14px;color:#fff;background:#007aff;border:none;border-radius:5px}',""]),e.exports=t},7343:function(e,t,i){"use strict";var n=i("66ef"),a=i.n(n);a.a},c02a:function(e,t,i){"use strict";var n={"uni-transition":i("3200").default,"uni-popup":i("1c89").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{style:{minHeight:"100vh",width:"100%",padding:"10px 0 20px 0",position:"relative",background:"#fff",height:"auto"}},[e.role?i("v-uni-view",{staticClass:"header",class:{status:e.isH5Plus},style:{padding:"20px 10px 20px 0",margin:"6px 12px 0 12px",borderColor:"#b7d573",alignItems:"flex-start",display:"flex",alignContent:"flex-start",borderRadius:"4px",background:"#fff",borderWidth:"1px 1px 10px 1px",width:"calc(100% - 24px)",position:"relative",borderStyle:"solid",height:"auto"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onPageTap2("../user-info/user-info",1)}}},[i("v-uni-view",{style:{width:"30%",alignItems:"center",flexDirection:"column",display:"flex",height:"auto"}},[i("v-uni-image",{style:{width:"60px",margin:"0 0 5px 0",borderRadius:"6px",height:"60px"},attrs:{src:e.user.touxiang?e.baseUrl+e.user.touxiang:"/static/gen/upload.png"}}),i("v-uni-view",{style:{width:"100%",textAlign:"center"}},[e._v(e._s(e.user.yonghuzhanghao)),e.user.vip&&"是"==e.user.vip?i("v-uni-text",[e._v("(VIP)")]):e._e()],1)],1),"yonghu"==e.tableName?i("v-uni-view",{staticClass:"userinfo",style:{padding:"0",margin:"0",alignItems:"center",textAlign:"left",flex:"1",display:"block",width:"60%",height:"auto"}},[i("v-uni-view",{staticClass:"info",style:{width:"auto",padding:"0 5px 5px 10px"}},[e.user.money?i("v-uni-view",{style:{width:"100%",lineHeight:"24px",fontSize:"14px",color:"#333"}},[e._v("余额："+e._s(e.user.money))]):e._e(),e.user.jf||0==e.user.jf?i("v-uni-view",{style:{width:"100%",lineHeight:"24px",fontSize:"14px",color:"#333"}},[e._v("积分："+e._s(e.user.jf))]):e._e()],1)],1):e._e(),i("v-uni-view",{staticClass:"setting",style:{margin:"0 5px 0 5px",alignItems:"center",top:"10px",display:"flex",width:"52px",position:"absolute",right:"0",justifyContent:"center",height:"auto"}},[i("v-uni-view",{staticClass:"iconfont icon-shezhi1",style:{border:"0",width:"42px",lineHeight:"42px",fontSize:"42px",color:"#333",borderRadius:"0"}})],1)],1):e._e(),e.role?e._e():i("v-uni-view",{staticClass:"header",class:{status:e.isH5Plus},style:{padding:"20px 10px 20px 0",margin:"6px 12px 0 12px",borderColor:"#b7d573",alignItems:"flex-start",display:"flex",alignContent:"flex-start",borderRadius:"4px",background:"#fff",borderWidth:"1px 1px 10px 1px",width:"calc(100% - 24px)",position:"relative",borderStyle:"solid",height:"auto"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onPageTap2("../user-info/user-info",1)}}},[i("v-uni-view",{style:{padding:"0",alignItems:"center",color:"#333",textAlign:"center",display:"flex",width:"100%",fontSize:"20px",justifyContent:"center",height:"150px"}},[e._v("登录/注册")])],1),i("v-uni-view",{staticClass:"list",style:{padding:"20px 2px 10px 2px",margin:"20px 12px 12px 12px",borderColor:"#b7d573",borderRadius:"4px",flexWrap:"wrap",background:"#fff",borderWidth:"1px 1px 10px 1px",display:"flex",width:"calc(100% - 24px)",borderStyle:"solid",height:"auto"}},[e._l(e.menuList,(function(t,n){return[t.child.length>1&&"orders"!=t.child[0].tableName?[i("v-uni-view",{staticClass:"li",style:{padding:"5px 10px 5px 10px",borderColor:"#eee",margin:"0 10px 5px",alignItems:"center",borderRadius:"0px",borderWidth:"0 0 0px 0",background:"#fff",display:"flex",width:"100%",borderStyle:"solid",height:"auto"},attrs:{"hover-class":"hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.secondClick(n)}}},[i("v-uni-view",{staticClass:"iconfont",class:t.fontClass,style:{width:"32px",lineHeight:"32px",fontSize:"32px",color:"#b7d573"}}),i("v-uni-view",{staticClass:"text",style:{padding:"0 10px 0 10px",color:"#515151",textAlign:"left",flex:"1",width:"100%",lineHeight:"24px",fontSize:"14px"}},[e._v(e._s(t.menu))]),i("v-uni-view",{staticClass:"iconfont icon-gengduo2",style:{width:"14px",lineHeight:"14px",fontSize:"14px",color:"#999"}})],1),i("uni-transition",{style:{border:"0px solid #eee",width:"calc(100% - 24px)",margin:"0 12px 20px 12px",borderRadius:"4px",background:"#fff"},attrs:{"mode-class":["fade"],duration:500,show:e.secondIndex==n}},[e._l(t.child,(function(t,n){return["yifahuodingdan"!=t.tableName&&"yituikuandingdan"!=t.tableName&&"yiquxiaodingdan"!=t.tableName&&"weizhifudingdan"!=t.tableName&&"yizhifudingdan"!=t.tableName&&"yiwanchengdingdan"!=t.tableName&&"examquestion"!=t.tableName?i("v-uni-view",{key:n+"_0",staticClass:"li",style:{width:"100%",margin:"0 0 0 0",alignItems:"center",justifyContent:"center",display:"flex",height:"auto"},attrs:{"hover-class":"hover"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.onPageTap(t.classname,t.menuJump)}}},[i("v-uni-view",{staticClass:"text",style:{padding:"0 10px 0 10px",color:"#333",textAlign:"center",flex:"1",width:"100%",lineHeight:"50px",fontSize:"14px"}},[e._v(e._s(t.menu))]),e._e()],1):e._e()]}))],2)]:t.child.length&&"orders"==t.child[0].tableName?[i("v-uni-view",{staticClass:"li",style:{padding:"5px 10px 5px 10px",borderColor:"#eee",margin:"0 10px 5px",alignItems:"center",borderRadius:"0px",borderWidth:"0 0 0px 0",background:"#fff",display:"flex",width:"100%",borderStyle:"solid",height:"auto"},attrs:{"hover-class":"hover"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.onPageTap(t.child[0].tableName,t.child[0].menuJump)}}},[i("v-uni-view",{staticClass:"iconfont",class:t.fontClass,style:{width:"32px",lineHeight:"32px",fontSize:"32px",color:"#b7d573"}}),i("v-uni-view",{staticClass:"text",style:{padding:"0 10px 0 10px",color:"#515151",textAlign:"left",flex:"1",width:"100%",lineHeight:"24px",fontSize:"14px"}},[e._v(e._s(t.menu))]),i("v-uni-view",{staticClass:"iconfont icon-gengduo2",style:{width:"14px",lineHeight:"14px",fontSize:"14px",color:"#999"}})],1)]:t.child[0].tableName.includes("coupon")?e._e():[i("v-uni-view",{staticClass:"li",style:{padding:"5px 10px 5px 10px",borderColor:"#eee",margin:"0 10px 5px",alignItems:"center",borderRadius:"0px",borderWidth:"0 0 0px 0",background:"#fff",display:"flex",width:"100%",borderStyle:"solid",height:"auto"},attrs:{"hover-class":"hover"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.onPageTap(t.child[0].classname,t.child[0].menuJump)}}},[i("v-uni-view",{staticClass:"iconfont",class:t.fontClass,style:{width:"32px",lineHeight:"32px",fontSize:"32px",color:"#b7d573"}}),i("v-uni-view",{staticClass:"text",style:{padding:"0 10px 0 10px",color:"#515151",textAlign:"left",flex:"1",width:"100%",lineHeight:"24px",fontSize:"14px"}},[e._v(e._s(t.child[0].menu))]),i("v-uni-view",{staticClass:"iconfont icon-gengduo2",style:{width:"14px",lineHeight:"14px",fontSize:"14px",color:"#999"}})],1)]]})),e.user&&e.user.id?i("v-uni-view",{staticClass:"li",style:{padding:"5px 10px 5px 10px",borderColor:"#eee",margin:"0 10px 5px",alignItems:"center",borderRadius:"0px",borderWidth:"0 0 0px 0",background:"#fff",display:"flex",width:"100%",borderStyle:"solid",height:"auto"},attrs:{"hover-class":"hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onPageTap2("../shop-recharge/pay-confirm")}}},[i("v-uni-view",{staticClass:"iconfont icon-chongzhi1",style:{width:"32px",lineHeight:"32px",fontSize:"32px",color:"#b7d573"}}),i("v-uni-view",{staticClass:"text",style:{padding:"0 10px 0 10px",color:"#515151",textAlign:"left",flex:"1",width:"100%",lineHeight:"24px",fontSize:"14px"}},[e._v("用户充值")]),i("v-uni-view",{staticClass:"iconfont icon-gengduo2",style:{width:"14px",lineHeight:"14px",fontSize:"14px",color:"#999"}})],1):e._e(),e.user&&e.user.id?i("v-uni-view",{staticClass:"li",style:{padding:"5px 10px 5px 10px",borderColor:"#eee",margin:"0 10px 5px",alignItems:"center",borderRadius:"0px",borderWidth:"0 0 0px 0",background:"#fff",display:"flex",width:"100%",borderStyle:"solid",height:"auto"},attrs:{"hover-class":"hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.passwordShow()}}},[i("v-uni-view",{staticClass:"iconfont icon-suoding1 ",style:{width:"32px",lineHeight:"32px",fontSize:"32px",color:"#b7d573"}}),i("v-uni-view",{staticClass:"text",style:{padding:"0 10px 0 10px",color:"#515151",textAlign:"left",flex:"1",width:"100%",lineHeight:"24px",fontSize:"14px"}},[e._v("修改密码")]),i("v-uni-view",{staticClass:"iconfont icon-gengduo2",style:{width:"14px",lineHeight:"14px",fontSize:"14px",color:"#999"}})],1):e._e()],2)],1),i("uni-popup",{ref:"passwordPopup",staticClass:"popup-content",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"passwordForm"},[i("v-uni-view",{staticClass:"passwordInput"},[i("v-uni-input",{attrs:{type:"password",placeholder:"原密码"},model:{value:e.passwordForm.mima,callback:function(t){e.$set(e.passwordForm,"mima",t)},expression:"passwordForm.mima"}})],1),i("v-uni-view",{staticClass:"passwordInput"},[i("v-uni-input",{attrs:{type:"password",placeholder:"新密码"},model:{value:e.passwordForm.newmima,callback:function(t){e.$set(e.passwordForm,"newmima",t)},expression:"passwordForm.newmima"}})],1),i("v-uni-view",{staticClass:"passwordInput"},[i("v-uni-input",{attrs:{type:"password",placeholder:"确认密码"},model:{value:e.passwordForm.newmima1,callback:function(t){e.$set(e.passwordForm,"newmima1",t)},expression:"passwordForm.newmima1"}})],1),i("v-uni-view",{staticClass:"passwordBtnView"},[i("v-uni-button",{staticClass:"passwordBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.updatePassword.apply(void 0,arguments)}}},[e._v("更新")])],1)],1)],1)],1)},s=[];i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n}))},d2c0:function(e,t,i){"use strict";i.r(t);var n=i("c02a"),a=i("27ae");for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);i("7343");var r,o=i("f0c5"),l=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"4accbeec",null,!1,n["a"],r);t["default"]=l.exports}}]);